[
{
  "model": "desktop.document2",
  "pk": 353,
  "fields": {
    "owner": [
      "instructor"
    ],
    "name": "Clase-04",
    "description": "",
    "uuid": "e9de14d3-0912-635b-2046-7f334401d0f2",
    "type": "query-hive",
    "data": "{\"forceHistoryInitialHeight\": false, \"loadingHistory\": false, \"schedulerViewModel\": null, \"schedulerViewModelIsLoaded\": false, \"retryModalConfirm\": null, \"uuid\": \"d5cea8d8-4c02-4baa-9ec7-0b1c8b1253c0\", \"initialType\": \"hive\", \"historyInitialHeight\": 17861, \"isHistory\": false, \"type\": \"query-hive\", \"canSave\": true, \"sessions\": [], \"updateHistoryFailed\": false, \"executingAllIndex\": 0, \"presentationSnippets\": {}, \"selectedSnippet\": \"hive\", \"isPresentationModeDefault\": false, \"coordinatorUuid\": null, \"name\": \"Clase-03_2\", \"viewSchedulerId\": \"\", \"isSaved\": true, \"creatingSessionLocks\": [], \"directoryUuid\": \"\", \"unloaded\": false, \"dependentsCoordinator\": [], \"retryModalCancel\": null, \"historyTotalPages\": 10, \"id\": 353, \"snippets\": [{\"showLongOperationWarning\": false, \"wasBatchExecuted\": false, \"chartLimits\": [5, 10, 25, 50, 100], \"associatedDocumentLoading\": true, \"isReady\": true, \"compatibilitySourcePlatforms\": [{\"name\": \"Teradata\", \"value\": \"teradata\"}, {\"name\": \"Oracle\", \"value\": \"oracle\"}, {\"name\": \"Netezza\", \"value\": \"netezza\"}, {\"name\": \"Impala\", \"value\": \"impala\"}, {\"name\": \"Hive\", \"value\": \"hive\"}, {\"name\": \"DB2\", \"value\": \"db2\"}, {\"name\": \"Greenplum\", \"value\": \"greenplum\"}, {\"name\": \"MySQL\", \"value\": \"mysql\"}, {\"name\": \"PostgreSQL\", \"value\": \"postgresql\"}, {\"name\": \"Informix\", \"value\": \"informix\"}, {\"name\": \"SQL Server\", \"value\": \"sqlserver\"}, {\"name\": \"Sybase\", \"value\": \"sybase\"}, {\"name\": \"Access\", \"value\": \"access\"}, {\"name\": \"Firebird\", \"value\": \"firebird\"}, {\"name\": \"ANSISQL\", \"value\": \"ansisql\"}, {\"name\": \"Generic\", \"value\": \"generic\"}], \"statusForButtons\": \"executed\", \"hideStacked\": true, \"lastExecuted\": 1599159922002, \"showLogs\": true, \"aceCursorPosition\": {\"column\": 16, \"row\": 90}, \"lastExecutedSelectionRange\": {\"start\": {\"column\": 0, \"row\": 85}, \"end\": {\"column\": 34, \"row\": 85}}, \"lastGetLogsRequest\": {\"status\": 200, \"statusText\": \"OK\", \"readyState\": 4, \"responseJSON\": {\"status\": 0, \"progress\": 100, \"jobs\": [], \"logs\": \"\", \"isFullLogs\": false}, \"responseText\": \"{\\\"status\\\": 0, \\\"progress\\\": 100, \\\"jobs\\\": [], \\\"logs\\\": \\\"\\\", \\\"isFullLogs\\\": false}\"}, \"getLogsTimeout\": 2533, \"variableNames\": [], \"associatedDocumentUuid\": null, \"compatibilitySourcePlatform\": {\"name\": \"Hive\", \"value\": \"hive\"}, \"chartLimit\": null, \"progress\": 0, \"chartType\": \"bars\", \"isFetchingData\": false, \"name\": \"\", \"statementTypes\": [\"text\", \"file\"], \"is_redacted\": false, \"compatibilityTargetPlatform\": {\"name\": \"Hive\", \"value\": \"hive\"}, \"chartScope\": \"world\", \"result\": {\"statement_id\": 0, \"isMetaFilterVisible\": false, \"meta\": [], \"logLines\": 1, \"id\": \"d678fb5f-7871-d7f3-ee02-ae45d5a9105f\", \"logs\": \"\", \"statements_count\": 1, \"rows\": \"1\", \"hasSomeResults\": true, \"filteredMetaChecked\": true, \"hasMore\": false, \"filteredMeta\": [{\"comment\": null, \"checked\": true, \"name\": \"\", \"originalIndex\": 0, \"cssClass\": \"sort-string\", \"type\": \"int\"}, {\"comment\": null, \"checked\": true, \"name\": \"_c0\", \"originalIndex\": 1, \"cssClass\": \"sort-string\", \"type\": \"bigint\"}], \"type\": \"table\", \"handle\": {\"log_context\": null, \"statements_count\": 1, \"end\": {\"column\": 32, \"row\": 0}, \"statement_id\": 0, \"has_more_statements\": false, \"start\": {\"column\": 0, \"row\": 0}, \"secret\": \"E21Rq3v1RKCwYIyOoqRIqw==\\n\", \"has_result_set\": true, \"session_guid\": \"o266VYL1TnqKFcTg6KS6QQ==\\n\", \"statement\": \"SELECT count(*) FROM flightdelays\", \"operation_type\": 0, \"modified_row_count\": null, \"guid\": \"ZZ4xdxsdSWii/8jwNM5MoA==\\n\", \"previous_statement_hash\": \"cce2d8407d91462ddbf8420b4d8a51ab6084188502dbf45fbcb11f20\"}, \"metaFilter\": {\"query\": \"\", \"facets\": {}, \"text\": []}, \"explanation\": \"\", \"statement_range\": {\"start\": {\"column\": 0, \"row\": 0}, \"end\": {\"column\": 0, \"row\": 0}}, \"startTime\": \"2020-09-03T19:05:23.457Z\", \"data\": [], \"filteredColumnCount\": 1, \"executionTime\": 1267, \"fetchedOnce\": false, \"hasResultset\": true, \"endTime\": \"2020-09-03T19:05:24.724Z\"}, \"errors\": [], \"chartMapHeat\": null, \"statement_raw\": \"-- JSON\\r\\n-- https://github.com/rcongiu/Hive-JSON-Serde\\r\\nDROP TABLE test_json;\\r\\nCREATE EXTERNAL TABLE test_json (\\r\\n    one boolean,\\r\\n    three array<string>,\\r\\n    two double,\\r\\n    four string \\r\\n)\\r\\nROW FORMAT SERDE 'org.apache.hive.hcatalog.data.JsonSerDe'\\r\\nSTORED AS TEXTFILE\\r\\nLOCATION '/user/instructor/data/json/';\\r\\n\\r\\nSELECT * FROM test_json;\\r\\n\\r\\nDESCRIBE FORMATTED test_json;\\r\\n\\r\\n-- AVRO\\r\\n\\r\\n-- https://github.com/apache/spark/blob/master/examples/src/main/resources/user.avsc\\r\\n-- https://github.com/apache/spark/blob/master/examples/src/main/resources/users.avro\\r\\n\\r\\nDROP TABLE users;\\r\\nCREATE EXTERNAL TABLE users\\r\\nSTORED AS AVRO\\r\\nLOCATION '/user/instructor/data/avro/users/'\\r\\nTBLPROPERTIES ('avro.schema.url'='/user/instructor/data/avro/schema/user.avsc');\\r\\n\\r\\nSELECT count(*) FROM users;\\r\\n\\r\\n-- PARQUET\\r\\n\\r\\nDROP TABLE flightdelays_parquet_snappy;\\r\\nCREATE EXTERNAL TABLE flightdelays_parquet_snappy(\\r\\n    dep_time INT,\\r\\n    unique_carrier STRING,\\r\\n    flight_num INT,\\r\\n    arr_delay INT,\\r\\n    origin STRING,\\r\\n    dest STRING,\\r\\n    year INT,\\r\\n    month INT,\\r\\n    day INT\\r\\n)\\r\\nSTORED AS PARQUET\\r\\nLOCATION '/user/instructor/data/flights/flightsdelays_parquet_snappy/'\\r\\nTBLPROPERTIES ('parquet.compression'='SNAPPY');\\r\\n\\r\\nDROP TABLE flightdelays_parquet_gzip;\\r\\nCREATE EXTERNAL TABLE flightdelays_parquet_gzip(\\r\\n    dep_time INT,\\r\\n    unique_carrier STRING,\\r\\n    flight_num INT,\\r\\n    arr_delay INT,\\r\\n    origin STRING,\\r\\n    dest STRING,\\r\\n    year INT,\\r\\n    month INT,\\r\\n    day INT\\r\\n)\\r\\nSTORED AS PARQUET\\r\\nLOCATION '/user/instructor/data/flights/flightsdelays_parquet_gzip/'\\r\\nTBLPROPERTIES ('parquet.compression'='GZIP');\\r\\n\\r\\nDROP TABLE flightdelays_parquet_uncompressed;\\r\\nCREATE EXTERNAL TABLE flightdelays_parquet_uncompressed(\\r\\n    dep_time INT,\\r\\n    unique_carrier STRING,\\r\\n    flight_num INT,\\r\\n    arr_delay INT,\\r\\n    origin STRING,\\r\\n    dest STRING,\\r\\n    year INT,\\r\\n    month INT,\\r\\n    day INT\\r\\n)\\r\\nSTORED AS PARQUET\\r\\nLOCATION '/user/instructor/data/flights/flightsdelays_parquet_uncompressed/'\\r\\nTBLPROPERTIES ('parquet.compression'='UNCOMPRESSED');\\r\\n\\r\\n\\r\\nDESCRIBE FORMATTED flightdelays_parquet_snappy;\\r\\nDESCRIBE FORMATTED flightdelays_parquet_gzip;\\r\\nDESCRIBE FORMATTED flightdelays_parquet_uncompressed;\\r\\n\\r\\nSELECT count(*) FROM flightdelays;\\r\\nSELECT count(*) FROM flightdelays_parquet_snappy;\\r\\n\\r\\nINSERT INTO flightdelays_parquet_snappy\\r\\nSELECT\\r\\n    `dep_time`, \\r\\n    `unique_carrier`, \\r\\n    `flight_num`, \\r\\n    `arr_delay`, \\r\\n    `origin`, \\r\\n    `dest`,\\r\\n    `year`,\\r\\n    `month`,\\r\\n    `day`\\r\\nFROM \\r\\n    flightdelays;\\r\\n\\r\\nSELECT count(*) FROM flightdelays_parquet_snappy;\\r\\n\\r\\nINSERT INTO flightdelays_parquet_gzip\\r\\nSELECT\\r\\n    `dep_time`, \\r\\n    `unique_carrier`, \\r\\n    `flight_num`, \\r\\n    `arr_delay`, \\r\\n    `origin`, \\r\\n    `dest`,\\r\\n    `year`,\\r\\n    `month`,\\r\\n    `day`\\r\\nFROM \\r\\n    flightdelays;\\r\\n\\r\\n\\r\\nSELECT count(*) FROM flightdelays_parquet_gzip;\\r\\n\\r\\n\\r\\nINSERT INTO flightdelays_parquet_uncompressed\\r\\nSELECT\\r\\n    `dep_time`, \\r\\n    `unique_carrier`, \\r\\n    `flight_num`, \\r\\n    `arr_delay`, \\r\\n    `origin`, \\r\\n    `dest`,\\r\\n    `year`,\\r\\n    `month`,\\r\\n    `day`\\r\\nFROM \\r\\n    flightdelays;\\r\\n\\r\\nSELECT count(*) FROM flightdelays_parquet_uncompressed;\\r\\n\\r\\nSELECT * FROM flightdelays_parquet_uncompressed;\\r\\n-- 1.20s\\r\\nSELECT * FROM flightdelays_parquet_gzip;\\r\\n-- 3s\\r\\nSELECT * FROM flightdelays_parquet_snappy;\\r\\n-- 2.36\\r\\n\\r\\nSELECT dest, AVG(dep_time) FROM flightdelays_parquet_uncompressed GROUP BY dest;\\r\\n-- 2s\\r\\nSELECT dest, AVG(dep_time) FROM flightdelays_parquet_gzip GROUP BY dest;\\r\\n-- 3s\\r\\nSELECT dest, AVG(dep_time) FROM flightdelays_parquet_snappy GROUP BY dest;\\r\\n-- 2.36\\r\\n\\r\\n-- avro vs parquet\\r\\nDROP TABLE ventas_parquet;\\r\\nCREATE EXTERNAL TABLE ventas_parquet(\\r\\n    id_cliente INT,\\r\\n    id_sucursal INT,\\r\\n    id_producto INT,\\r\\n    precio FLOAT,\\r\\n    cantidad INT,\\r\\n    fecha_dia INT,\\r\\n    fecha_mes INT,\\r\\n    fecha_anio INT\\r\\n)\\r\\nSTORED AS PARQUET\\r\\nLOCATION '/user/instructor/data/parquet_avro/ventas_parquet/'\\r\\nTBLPROPERTIES ('parquet.schema.url'='/user/instructor/data/parquet_avro/schema/venta.avsc');\\r\\n\\r\\nDROP TABLE ventas_avro;\\r\\nCREATE EXTERNAL TABLE ventas_avro(\\r\\n    id_cliente INT,\\r\\n    id_sucursal INT,\\r\\n    id_producto INT,\\r\\n    precio FLOAT,\\r\\n    cantidad INT,\\r\\n    fecha_dia INT,\\r\\n    fecha_mes INT,\\r\\n    fecha_anio INT\\r\\n)\\r\\nSTORED AS AVRO\\r\\nLOCATION '/user/instructor/data/parquet_avro/ventas_avro/'\\r\\nTBLPROPERTIES ('parquet.schema.url'='/user/instructor/data/parquet_avro/schema/venta.avsc');\\r\\n\\r\\nSELECT COUNT(*) FROM ventas_parquet;\\r\\nSELECT COUNT(*) FROM ventas_avro;\\r\\n\\r\\nDROP TABLE data_csv;\\r\\nCREATE EXTERNAL TABLE data_csv(\\r\\n    id_cliente INT,\\r\\n    id_sucursal INT,\\r\\n    id_producto INT,\\r\\n    precio FLOAT,\\r\\n    cantidad INT,\\r\\n    fecha_dia INT,\\r\\n    fecha_mes INT,\\r\\n    fecha_anio INT\\r\\n)\\r\\nROW FORMAT DELIMITED\\r\\nFIELDS TERMINATED BY ','\\r\\nLOCATION '/user/instructor/data/parquet_avro/ventas/';\\r\\n\\r\\nselect * from data_csv LIMIT 5;\\r\\n\\r\\nINSERT INTO data_csv (id_cliente,\\r\\n    id_sucursal,\\r\\n    id_producto,\\r\\n    precio,\\r\\n    cantidad,\\r\\n    fecha_dia,\\r\\n    fecha_mes,\\r\\n    fecha_anio)\\r\\nSELECT id_cliente,\\r\\n    id_sucursal,\\r\\n    id_producto,\\r\\n    precio,\\r\\n    cantidad,\\r\\n    fecha_dia,\\r\\n    fecha_mes,\\r\\n    fecha_anio\\r\\nFROM data_csv;\\r\\n\\r\\n-- 7 ejecuciones para llegar a 2 millones de registros\\r\\nselect count(*) from data_csv;\\r\\n\\r\\nINSERT INTO ventas_parquet (id_cliente,\\r\\n    id_sucursal,\\r\\n    id_producto,\\r\\n    precio,\\r\\n    cantidad,\\r\\n    fecha_dia,\\r\\n    fecha_mes,\\r\\n    fecha_anio)\\r\\nSELECT id_cliente,\\r\\n    id_sucursal,\\r\\n    id_producto,\\r\\n    precio,\\r\\n    cantidad,\\r\\n    fecha_dia,\\r\\n    fecha_mes,\\r\\n    fecha_anio\\r\\nFROM data_csv;\\r\\n-- 8.99s\\r\\n\\r\\nSELECT COUNT(*) FROM ventas_parquet;\\r\\n-- 5.59s\\r\\n\\r\\nINSERT INTO ventas_avro (id_cliente,\\r\\n    id_sucursal,\\r\\n    id_producto,\\r\\n    precio,\\r\\n    cantidad,\\r\\n    fecha_dia,\\r\\n    fecha_mes,\\r\\n    fecha_anio)\\r\\nSELECT id_cliente,\\r\\n    id_sucursal,\\r\\n    id_producto,\\r\\n    precio,\\r\\n    cantidad,\\r\\n    fecha_dia,\\r\\n    fecha_mes,\\r\\n    fecha_anio\\r\\nFROM data_csv;\\r\\n-- 10.15s\\r\\n\\r\\nSELECT COUNT(*) FROM ventas_avro;\\r\\n-- 10.74s\\r\\n\\r\\nSELECT * FROM data_csv;\\r\\n-- 1.2\\r\\nSELECT * FROM ventas_avro;\\r\\n-- 1.5s\\r\\nSELECT * FROM ventas_parquet;\\r\\n-- 3s\\r\\n\\r\\nSELECT id_producto, precio, cantidad FROM data_csv;\\r\\n--2s\\r\\nSELECT id_producto, precio, cantidad FROM ventas_avro;\\r\\n--3s\\r\\nSELECT id_producto, precio, cantidad FROM ventas_parquet;\\r\\n--2s\\r\\nSELECT fecha_anio, AVG(precio * cantidad) FROM data_csv GROUP BY fecha_anio;\\r\\n--5\\r\\nSELECT fecha_anio, AVG(precio * cantidad) FROM ventas_avro GROUP BY fecha_anio;\\r\\n--10s\\r\\nSELECT fecha_anio, AVG(precio * cantidad) FROM ventas_parquet GROUP BY fecha_anio;\\r\\n--2.5s\\r\\n\\r\\nSELECT fecha_anio, MAX(precio) FROM data_csv GROUP BY fecha_anio;\\r\\n--5\\r\\nSELECT fecha_anio, MAX(precio) FROM ventas_avro GROUP BY fecha_anio;\\r\\n--9s\\r\\nSELECT fecha_anio, MAX(precio) FROM ventas_parquet GROUP BY fecha_anio;\\r\\n--2.5s\", \"lastExecutedStatements\": \"SELECT count(*) FROM flightdelays;\", \"aceErrorsHolder\": [], \"showOptimizer\": false, \"currentQueryTab\": \"queryResults\", \"lastCheckStatusRequest\": {\"status\": 200, \"statusText\": \"OK\", \"readyState\": 4, \"responseJSON\": {\"status\": 0, \"query_status\": {\"status\": \"available\", \"has_result_set\": true}}, \"responseText\": \"{\\\"status\\\": 0, \\\"query_status\\\": {\\\"status\\\": \\\"available\\\", \\\"has_result_set\\\": true}}\"}, \"jobs\": [], \"statementType\": \"text\", \"variableValues\": {}, \"executeNextTimeout\": -1, \"queriesTotalPages\": 1, \"formatEnabled\": true, \"properties\": {\"files\": [], \"functions\": [], \"arguments\": [], \"settings\": []}, \"aceErrors\": [], \"isCanceling\": false, \"externalStatementLoaded\": false, \"chartScatterSize\": null, \"chartYSingle\": null, \"suggestion\": \"\", \"statementPath\": \"\", \"showExecutionAnalysis\": true, \"chartX\": null, \"autocompleteSettings\": {\"temporaryOnly\": false}, \"variables\": [], \"showChart\": false, \"isResultSettingsVisible\": true, \"showGrid\": true, \"pinnedContextTabs\": [], \"viewSettings\": {\"sqlDialect\": true, \"placeHolder\": \"Ejemplo: SELECT * FROM nombre de tabla o pulse CTRL + espacio\"}, \"statementsList\": [\"\\r\\n\\r\\nSELECT count(*) FROM users;\", \"\\r\\n\\r\\n-- PARQUET\\r\\n\\r\\nDROP TABLE flightdelays_parquet_snappy;\", \"\\r\\nCREATE EXTERNAL TABLE flightdelays_parquet_snappy(\\r\\n    dep_time INT,\\r\\n    unique_carrier STRING,\\r\\n    flight_num INT,\\r\\n    arr_delay INT,\\r\\n    origin STRING,\\r\\n    dest STRING,\\r\\n    year INT,\\r\\n    month INT,\\r\\n    day INT\\r\\n)\\r\\nSTORED AS PARQUET\\r\\nLOCATION '/user/instructor/data/flights/flightsdelays_parquet_snappy/'\\r\\nTBLPROPERTIES ('parquet.compression'='SNAPPY');\", \"\\r\\n\\r\\nDROP TABLE flightdelays_parquet_gzip;\", \"\\r\\nCREATE EXTERNAL TABLE flightdelays_parquet_gzip(\\r\\n    dep_time INT,\\r\\n    unique_carrier STRING,\\r\\n    flight_num INT,\\r\\n    arr_delay INT,\\r\\n    origin STRING,\\r\\n    dest STRING,\\r\\n    year INT,\\r\\n    month INT,\\r\\n    day INT\\r\\n)\\r\\nSTORED AS PARQUET\\r\\nLOCATION '/user/instructor/data/flights/flightsdelays_parquet_gzip/'\\r\\nTBLPROPERTIES ('parquet.compression'='GZIP');\", \"\\r\\n\\r\\nDROP TABLE flightdelays_parquet_uncompressed;\", \"\\r\\nCREATE EXTERNAL TABLE flightdelays_parquet_uncompressed(\\r\\n    dep_time INT,\\r\\n    unique_carrier STRING,\\r\\n    flight_num INT,\\r\\n    arr_delay INT,\\r\\n    origin STRING,\\r\\n    dest STRING,\\r\\n    year INT,\\r\\n    month INT,\\r\\n    day INT\\r\\n)\\r\\nSTORED AS PARQUET\\r\\nLOCATION '/user/instructor/data/flights/flightsdelays_parquet_uncompressed/'\\r\\nTBLPROPERTIES ('parquet.compression'='UNCOMPRESSED');\", \"\\r\\n\\r\\n\\r\\nDESCRIBE FORMATTED flightdelays_parquet_snappy;\", \"\\r\\nDESCRIBE FORMATTED flightdelays_parquet_gzip;\", \"\\r\\nDESCRIBE FORMATTED flightdelays_parquet_uncompressed;\", \"\\r\\n\\r\\nSELECT count(*) FROM flightdelays;\", \"\\r\\nSELECT count(*) FROM flightdelays_parquet_snappy;\", \"\\r\\n\\r\\nINSERT INTO flightdelays_parquet_snappy\\r\\nSELECT\\r\\n    `dep_time`, \\r\\n    `unique_carrier`, \\r\\n    `flight_num`, \\r\\n    `arr_delay`, \\r\\n    `origin`, \\r\\n    `dest`,\\r\\n    `year`,\\r\\n    `month`,\\r\\n    `day`\\r\\nFROM \\r\\n    flightdelays;\", \"\\r\\n\\r\\nSELECT count(*) FROM flightdelays_parquet_snappy;\", \"\\r\\n\\r\\nINSERT INTO flightdelays_parquet_gzip\\r\\nSELECT\\r\\n    `dep_time`, \\r\\n    `unique_carrier`, \\r\\n    `flight_num`, \\r\\n    `arr_delay`, \\r\\n    `origin`, \\r\\n    `dest`,\\r\\n    `year`,\\r\\n    `month`,\\r\\n    `day`\\r\\nFROM \\r\\n    flightdelays;\", \"\\r\\n\\r\\n\\r\\nSELECT count(*) FROM flightdelays_parquet_gzip;\", \"\\r\\n\\r\\n\\r\\nINSERT INTO flightdelays_parquet_uncompressed\\r\\nSELECT\\r\\n    `dep_time`, \\r\\n    `unique_carrier`, \\r\\n    `flight_num`, \\r\\n    `arr_delay`, \\r\\n    `origin`, \\r\\n    `dest`,\\r\\n    `year`,\\r\\n    `month`,\\r\\n    `day`\\r\\nFROM \\r\\n    flightdelays;\", \"\\r\\n\\r\\nSELECT count(*) FROM flightdelays_parquet_uncompressed;\", \"\\r\\n\\r\\nSELECT * FROM flightdelays_parquet_uncompressed;\", \"\\r\\n-- 1.20s\\r\\nSELECT * FROM flightdelays_parquet_gzip;\", \"\\r\\n-- 3s\\r\\nSELECT * FROM flightdelays_parquet_snappy;\"], \"lastAceSelectionRowOffset\": 85, \"executingBlockingOperation\": null, \"errorsKlass\": \"results hive alert alert-error\", \"statement\": \"\\r\\n\\r\\nSELECT count(*) FROM flightdelays;\", \"type\": \"hive\", \"chartSorting\": \"none\", \"previousChartOptions\": {\"chartTimelineType\": \"bar\", \"chartSorting\": \"none\", \"chartLimit\": null, \"chartMapHeat\": null, \"chartX\": null, \"chartMapType\": \"marker\", \"chartYMulti\": [\"_c0\"], \"chartScatterSize\": null, \"chartScope\": \"world\", \"chartMapLabel\": null, \"chartScatterGroup\": null, \"chartYSingle\": null, \"chartXPivot\": null}, \"aceWarningsHolder\": [], \"resultsKlass\": \"results hive\", \"chartTimelineType\": \"bar\", \"compatibilityTargetPlatforms\": [{\"name\": \"Impala\", \"value\": \"impala\"}, {\"name\": \"Hive\", \"value\": \"hive\"}], \"topRisk\": null, \"compute\": {\"name\": \"default\", \"namespace\": \"default\", \"id\": \"default\", \"interface\": \"hive\", \"type\": \"direct\", \"options\": {}}, \"hasCurlyBracketParameters\": true, \"chartScatterGroup\": null, \"settingsVisible\": false, \"queriesFilterVisible\": false, \"aceAutoExpand\": false, \"aceWarnings\": [], \"compatibilityCheckRunning\": false, \"isLoading\": false, \"loadingQueries\": false, \"hasDataForChart\": false, \"id\": \"16fe7366-9af2-1103-ed60-ed185ba80815\", \"aceSize\": 100, \"chartData\": [], \"namespace\": {\"status\": \"CREATED\", \"computes\": [{\"credentials\": {}, \"type\": \"direct\", \"id\": \"default\", \"name\": \"default\"}], \"id\": \"default\", \"name\": \"default\"}, \"queriesHasErrors\": false, \"chartMapLabel\": null, \"editorMode\": true, \"status\": \"available\", \"isSqlDialect\": true, \"chartMapType\": \"marker\", \"queriesFilter\": \"\", \"queriesCurrentPage\": 1, \"isBatchable\": true, \"chartYMulti\": [\"_c0\"], \"dbSelectionVisible\": false, \"database\": \"instructor\", \"hasSuggestion\": null, \"chartXPivot\": null, \"checkStatusTimeout\": null}], \"isPresentationMode\": false, \"onSuccessUrl\": null, \"pubSubUrl\": null, \"historyFilterVisible\": false, \"historyFilter\": \"\", \"description\": \"\", \"isPresentationModeInitialized\": true, \"isManaged\": false, \"isBatchable\": true, \"isExecutingAll\": false, \"isHidingCode\": false, \"loadingScheduler\": false, \"historyCurrentPage\": 1, \"parentSavedQueryUuid\": \"e9de14d3-0912-635b-2046-7f334401d0f2\"}",
    "extra": "",
    "search": "-- JSON\r\n-- https://github.com/rcongiu/Hive-JSON-Serde\r\nDROP TABLE test_json;\r\nCREATE EXTERNAL TABLE test_json (\r\n    one boolean,\r\n    three array<string>,\r\n    two double,\r\n    four string \r\n)\r\nROW FORMAT SERDE 'org.apache.hive.hcatalog.data.JsonSerDe'\r\nSTORED AS TEXTFILE\r\nLOCATION '/user/instructor/data/json/';\r\n\r\nSELECT * FROM test_json;\r\n\r\nDESCRIBE FORMATTED test_json;\r\n\r\n-- AVRO\r\n\r\n-- https://github.com/apache/spark/blob/master/examples/src/main/resources/user.avsc\r\n-- https://github.com/apache/spark/blob/master/examples/src/main/resources/users.avro\r\n\r\nDROP TABLE users;\r\nCREATE EXTERNAL TABLE users\r\nSTORED AS AVRO\r\nLOCATION '/user/instructor/data/avro/users/'\r\nTBLPROPERTIES ('avro.schema.url'='/user/instructor/data/avro/schema/user.avsc');\r\n\r\nSELECT count(*) FROM users;\r\n\r\n-- PARQUET\r\n\r\nDROP TABLE flightdelays_parquet_snappy;\r\nCREATE EXTERNAL TABLE flightdelays_parquet_snappy(\r\n    dep_time INT,\r\n    unique_carrier STRING,\r\n    flight_num INT,\r\n    arr_delay INT,\r\n    origin STRING,\r\n    dest STRING,\r\n    year INT,\r\n    month INT,\r\n    day INT\r\n)\r\nSTORED AS PARQUET\r\nLOCATION '/user/instructor/data/flights/flightsdelays_parquet_snappy/'\r\nTBLPROPERTIES ('parquet.compression'='SNAPPY');\r\n\r\nDROP TABLE flightdelays_parquet_gzip;\r\nCREATE EXTERNAL TABLE flightdelays_parquet_gzip(\r\n    dep_time INT,\r\n    unique_carrier STRING,\r\n    flight_num INT,\r\n    arr_delay INT,\r\n    origin STRING,\r\n    dest STRING,\r\n    year INT,\r\n    month INT,\r\n    day INT\r\n)\r\nSTORED AS PARQUET\r\nLOCATION '/user/instructor/data/flights/flightsdelays_parquet_gzip/'\r\nTBLPROPERTIES ('parquet.compression'='GZIP');\r\n\r\nDROP TABLE flightdelays_parquet_uncompressed;\r\nCREATE EXTERNAL TABLE flightdelays_parquet_uncompressed(\r\n    dep_time INT,\r\n    unique_carrier STRING,\r\n    flight_num INT,\r\n    arr_delay INT,\r\n    origin STRING,\r\n    dest STRING,\r\n    year INT,\r\n    month INT,\r\n    day INT\r\n)\r\nSTORED AS PARQUET\r\nLOCATION '/user/instructor/data/flights/flightsdelays_parquet_uncompressed/'\r\nTBLPROPERTIE",
    "last_modified": "2020-09-03T19:06:42.380",
    "version": 1,
    "is_history": false,
    "is_managed": false,
    "is_trashed": false,
    "parent_directory": [
      "de4081fc-9394-4e70-a020-0957df8b2e51",
      1,
      false
    ],
    "dependencies": []
  }
}
]
